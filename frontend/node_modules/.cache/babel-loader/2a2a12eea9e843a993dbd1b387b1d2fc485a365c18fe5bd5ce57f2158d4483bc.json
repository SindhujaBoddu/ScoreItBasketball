{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\sindh\\\\Desktop\\\\basketball-tournament-app\\\\frontend\\\\src\\\\components\\\\Match.js\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect } from \"react\";\nimport { useParams } from \"react-router-dom\";\nimport { io } from \"socket.io-client\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst Match = () => {\n  _s();\n  const {\n    matchId\n  } = useParams();\n  const [match, setMatch] = useState(null);\n  const [loading, setLoading] = useState(true);\n  const [scoreA, setScoreA] = useState(0);\n  const [scoreB, setScoreB] = useState(0);\n  const socket = io(\"http://localhost:5000\", {\n    transports: [\"websocket\", \"polling\"],\n    reconnection: true,\n    reconnectionAttempts: 5,\n    reconnectionDelay: 2000\n  });\n  useEffect(() => {\n    const fetchMatch = async () => {\n      try {\n        const response = await fetch(`http://localhost:5000/api/match/${matchId}`);\n        if (!response.ok) throw new Error(\"Failed to fetch match data\");\n        const data = await response.json();\n        if (!data.match) throw new Error(\"Match not found\");\n        setMatch(data.match);\n        setScoreA(data.match.scoreA || 0);\n        setScoreB(data.match.scoreB || 0);\n      } catch (err) {\n        console.error(\"Error fetching match:\", err);\n        setMatch(null);\n      } finally {\n        setLoading(false);\n      }\n    };\n    fetchMatch();\n    socket.on(\"updateMatch\", updatedMatch => {\n      setMatch(updatedMatch);\n      setScoreA(updatedMatch.scoreA || 0);\n      setScoreB(updatedMatch.scoreB || 0);\n    });\n    return () => {\n      socket.off(\"updateMatch\");\n      socket.disconnect();\n    };\n  }, [matchId]);\n  if (loading) return /*#__PURE__*/_jsxDEV(\"p\", {\n    children: \"Loading match data...\"\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 53,\n    columnNumber: 23\n  }, this);\n  if (!match) return /*#__PURE__*/_jsxDEV(\"p\", {\n    children: \"No match found!\"\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 54,\n    columnNumber: 22\n  }, this);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"viewer-container\",\n    children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n      className: \"match-title\",\n      children: [match.home_team, \" vs \", match.away_team]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 58,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"h2\", {\n      className: \"match-score\",\n      children: [scoreA, \" - \", scoreB]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 59,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 57,\n    columnNumber: 5\n  }, this);\n};\n_s(Match, \"PdiJTZEetgm0r6CKNCE+ZFr2fas=\", false, function () {\n  return [useParams];\n});\n_c = Match;\nexport default Match;\nvar _c;\n$RefreshReg$(_c, \"Match\");","map":{"version":3,"names":["React","useState","useEffect","useParams","io","jsxDEV","_jsxDEV","Match","_s","matchId","match","setMatch","loading","setLoading","scoreA","setScoreA","scoreB","setScoreB","socket","transports","reconnection","reconnectionAttempts","reconnectionDelay","fetchMatch","response","fetch","ok","Error","data","json","err","console","error","on","updatedMatch","off","disconnect","children","fileName","_jsxFileName","lineNumber","columnNumber","className","home_team","away_team","_c","$RefreshReg$"],"sources":["C:/Users/sindh/Desktop/basketball-tournament-app/frontend/src/components/Match.js"],"sourcesContent":["import React, { useState, useEffect } from \"react\";\r\nimport { useParams } from \"react-router-dom\";\r\nimport { io } from \"socket.io-client\";\r\n\r\nconst Match = () => {\r\n  const { matchId } = useParams();\r\n  const [match, setMatch] = useState(null);\r\n  const [loading, setLoading] = useState(true);\r\n  const [scoreA, setScoreA] = useState(0);\r\n  const [scoreB, setScoreB] = useState(0);\r\n  \r\n  const socket = io(\"http://localhost:5000\", {\r\n    transports: [\"websocket\", \"polling\"],\r\n    reconnection: true,\r\n    reconnectionAttempts: 5,\r\n    reconnectionDelay: 2000,\r\n  });\r\n\r\n  useEffect(() => {\r\n    const fetchMatch = async () => {\r\n      try {\r\n        const response = await fetch(`http://localhost:5000/api/match/${matchId}`);\r\n        if (!response.ok) throw new Error(\"Failed to fetch match data\");\r\n        \r\n        const data = await response.json();\r\n        if (!data.match) throw new Error(\"Match not found\");\r\n\r\n        setMatch(data.match);\r\n        setScoreA(data.match.scoreA || 0);\r\n        setScoreB(data.match.scoreB || 0);\r\n      } catch (err) {\r\n        console.error(\"Error fetching match:\", err);\r\n        setMatch(null);\r\n      } finally {\r\n        setLoading(false);\r\n      }\r\n    };\r\n\r\n    fetchMatch();\r\n\r\n    socket.on(\"updateMatch\", (updatedMatch) => {\r\n      setMatch(updatedMatch);\r\n      setScoreA(updatedMatch.scoreA || 0);\r\n      setScoreB(updatedMatch.scoreB || 0);\r\n    });\r\n\r\n    return () => {\r\n      socket.off(\"updateMatch\");\r\n      socket.disconnect();\r\n    };\r\n  }, [matchId]);\r\n\r\n  if (loading) return <p>Loading match data...</p>;\r\n  if (!match) return <p>No match found!</p>;\r\n\r\n  return (\r\n    <div className=\"viewer-container\">\r\n      <h1 className=\"match-title\">{match.home_team} vs {match.away_team}</h1>\r\n      <h2 className=\"match-score\">{scoreA} - {scoreB}</h2>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Match;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}